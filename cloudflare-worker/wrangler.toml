# Cloudflare Workers configuration
# See: https://developers.cloudflare.com/workers/wrangler/configuration/

name = "diyfurniture-worker"
main = "unified-worker.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]
workers_dev = true

# R2 bucket bindings
[[r2_buckets]]
binding = "MODELS_BUCKET"
bucket_name = "furniture-models"

[[r2_buckets]]
binding = "PDF_BUCKET"
bucket_name = "furniture-plans"

# Environment variables (set via wrangler secret)
# LEMON_SQUEEZY_WEBHOOK_SECRET - Webhook signature verification
# SIGNING_SECRET - For signed URLs (will auto-generate if not set)

# For local development
[env.dev]
name = "diyfurniture-worker-dev"

# For production
[env.production]
name = "diyfurniture-worker"
