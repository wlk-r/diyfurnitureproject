<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workbench — Walker Nosworthy</title>
    <!-- Critical: Hide model until materials ready -->
    <style>
        .model-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #f7f5ee;
            z-index: 5;
            transition: opacity 0.4s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .model-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }
        .loading-container {
            text-align: center;
        }
        .loading-text {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            font-weight: 400;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: #1f1f1f;
            margin-bottom: 12px;
        }
        .loading-bar-track {
            width: 200px;
            height: 2px;
            background: #d8d2c6;
        }
        .loading-bar-fill {
            height: 100%;
            width: 0%;
            background: #1f1f1f;
            transition: width 0.2s ease;
        }
    </style>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <script src="product-loader.js" defer></script>
    <script src="model-loader.js" defer></script>
    <script>
        // Load product details when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadProductDetail('5');
        });
    </script>
</head>
<body class="project-detail-page">
    <!-- Loading overlay - hides until materials applied -->
    <div class="model-loading-overlay" id="loadingOverlay">
        <div class="loading-container">
            <div class="loading-text">Loading</div>
            <div class="loading-bar-track">
                <div class="loading-bar-fill" id="loadingBarFill"></div>
            </div>
        </div>
    </div>

    <!-- Full-bleed model viewer -->
    <div class="fullbleed-viewer">
        <model-viewer
            data-model="workbench-test file-nomaterials.glb"
            alt="Workbench"
            camera-controls
            auto-rotate
            shadow-intensity="3"
            exposure="1.1"
            ar>
        </model-viewer>
    </div>

    <!-- Project info overlay (upper left) -->
    <div class="project-info-overlay">
        <a href="main.html" class="back-link">← Back to Portfolio</a>

        <div class="project-title-large">Workbench</div>

        <div class="project-details">
            <div class="detail-row">
                <span class="detail-label">Year:</span>
                <span class="detail-value">2025</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Medium:</span>
                <span class="detail-value">3/4" pine plywood</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Dimensions:</span>
                <span class="detail-value">48"w x 24"d x 34"h</span>
            </div>
        </div>

        <div class="project-description-full">
            <p>A sturdy workbench design featuring dynamic material loading. This model demonstrates the material slot system where textures are applied at runtime.</p>
            <p>The model uses 'face' and 'edge' material slots that receive plywood textures from a shared source file, ensuring consistent appearance across all products.</p>
        </div>

        <div class="buy-button-container"></div>
    </div>
</body>
</html>
